# Chapter 03: Plugins - Narration Script
# Format: duration|URL|text
# Pronunciation: Use spaces for acronyms (P H P, C R U D L)

# --- Introduction ---
7|http://localhost:8080/03-Plugins/public/index.php|Welcome to Chapter Three. We're introducing the Plugin architecture pattern to organize code into reusable components.

# --- Live Demo ---
6|http://localhost:8080/03-Plugins/public/index.php|The application now has a modular plugin system. Home, About, and Contact are separate plugins.
5|http://localhost:8080/03-Plugins/public/index.php?o=About|Each plugin handles its own content. The About plugin renders this page with its specific layout.
6|http://localhost:8080/03-Plugins/public/index.php?o=Contact|The Contact plugin provides a different structure. Plugins support C R U D L operations. Let's see how it's built.

# --- Code: Context Class ---
8|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L5-L18|The code is now split into distinct classes. Context holds global state, Init handles bootstrapping.
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L5-L8|The Context class uses constructor property promotion to define all properties in the constructor signature.
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L8|The in array holds input parameters. The o parameter selects which plugin, m selects which method.
8|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L9-L13|The out array contains output sections. Doc for title, head for header, main for content, foot for footer.
6|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L14-L16|The nav array defines navigation items. Each item links to a plugin by name.

# --- Code: Init Class ---
8|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L20-L31|The Init class is marked as readonly. All its properties are implicitly readonly once set in the constructor.
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L24-L28|Plugin loading uses dynamic class names. The o parameter becomes a class name, m becomes a method name.
6|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L30|The toString method returns the rendered output buffer from the context.

# --- Code: Plugin Classes ---
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L33-L40|Each plugin extends a base Plugin class. The Home plugin has a list method that returns page content.
6|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L42-L49|About and Contact plugins follow the same pattern. Simple classes with focused responsibilities.

# --- Conclusion ---
6|http://localhost:8080/03-Plugins/public/index.php|That's Chapter Three. We've separated concerns with the Plugin pattern using Context for state and Init for routing.
4|http://localhost:8080/03-Plugins/public/index.php|Next chapter adds theming with multiple layout options!
