# Chapter 03: Plugins - Narration Script
# Format: duration|URL|text
# Pronunciation: Use spaces for acronyms (P H P)

# --- Hook ---
6|http://localhost:8080/03-Plugins/public/index.php|Same interface, completely different code. Chapter Three restructures everything while changing nothing visible.

# --- Introduction ---
7|http://localhost:8080/03-Plugins/public/index.php|The browser shows identical output to Chapter Two. But the P H P behind it now uses four named classes instead of one anonymous class.

# --- Live Demo ---
5|http://localhost:8080/03-Plugins/public/index.php|Home page looks the same. Card layout, theme toggle, toast buttons. All working as before.
5|http://localhost:8080/03-Plugins/public/index.php?o=About|About page. Notice the U R L now uses o equals About instead of m equals about.
5|http://localhost:8080/03-Plugins/public/index.php?o=Contact|Contact page with the email form. Same functionality, different architecture.
6|http://localhost:8080/03-Plugins/public/index.php?o=Home&x=json|Add x equals json to any U R L. Every plugin now has an automatic JSON A P I.

# --- Context Class ---
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L4-L11|The Ctx class is a readonly value object. It holds email, input parameters, output placeholders, and navigation.
6|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L7|The in array defines U R L parameters with defaults. O for plugin, m for method, x for output format.

# --- Init Class ---
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L13-L23|The Init class processes requests. Constructor sanitizes input with pipe operators, then calls dispatch.
8|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L25-L31|The dispatch method uses match true pattern. It validates the class exists, method exists, then invokes it dynamically.
6|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L33-L38|The to string method switches output format. JSON or H T M L based on the x parameter.

# --- Navigation ---
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L41-L47|Navigation uses the same pipe pattern as Chapter Two. The context's nav array flows through map and implode.

# --- Plugin Base ---
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L72-L80|The abstract Plugin class defines the C R U D L contract. Create, Read, Update, Delete, List. Five stub methods.

# --- Concrete Plugins ---
7|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L82-L94|The Home plugin extends Plugin and overrides list. The Override attribute ensures the method signature matches.
6|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L107-L129|Contact plugin accesses context data. The email address comes from ctx, not hardcoded.

# --- Entry Point ---
6|https://github.com/markc/spe/blob/main/03-Plugins/public/index.php#L131|One line launches everything. Echo new Init new Ctx. Context created, request processed, output rendered.

# --- Conclusion ---
6|http://localhost:8080/03-Plugins/public/index.php|That's Chapter Three. Four classes, plugin dispatch, JSON A P I. Same visual output, extensible architecture.
5|http://localhost:8080/03-Plugins/public/index.php|Next chapter adds theming with multiple layout options.
