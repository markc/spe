---
updated: 2026-01-18
scope: /10-Htmx
parent: ../ai.txt
---

# Chapter 10: htmx - SPA-like Blog

Blog CMS enhanced with htmx for SPA-like navigation without page reloads.

## Learning Objectives

- Integrate htmx for partial page updates
- Implement SPA-like navigation with URL history
- Add live search with debouncing
- Create inline CRUD operations
- Handle server-triggered events (toasts)

## Key htmx Features Demonstrated

Navigation: All links use hx-get/hx-target for partial updates
Forms: hx-post for AJAX form submission
Live Search: hx-trigger="keyup changed delay:300ms"
Delete: hx-confirm for confirmation dialogs
Loading States: htmx-indicator class for spinners
URL History: hx-push-url preserves browser history

## Directory Structure

```
10-Htmx/
├── public/
│   └── index.php
└── src/
    ├── Core/           # Init (htmx detection), Ctx, Theme (htmx script)
    ├── Plugins/        # Views with hx-* attributes
    └── Themes/         # TopNav, SideBar, Simple with id="main"
```

## htmx Integration Points

Init.php: Detects HX-Request header, returns partial HTML
Theme.php: Loads htmx script, adds hx-boost to body
nav(): Links with hx-get, hx-target="#main", hx-push-url
Views: All links/forms enhanced with htmx attributes

## How It Works

1. Initial page load: Full HTML response
2. Subsequent navigation: htmx sends HX-Request header
3. Server detects header: Returns only main content
4. htmx swaps: Replaces #main element, updates URL
5. Flash messages: Sent via HX-Trigger header

## Code Patterns

```php
// Detect htmx request (Init.php)
if (isset($_SERVER['HTTP_HX_REQUEST'])) {
    return $this->out['main'];  // Partial HTML
}

// Navigation with htmx (Theme.php)
<a href="/blog" hx-get="/blog" hx-target="#main" hx-push-url="true">Blog</a>

// Live search (UsersView.php)
<input hx-get="?o=Users" hx-trigger="keyup changed delay:300ms" hx-target="#main">

// Inline delete (UsersView.php)
<a hx-get="?o=Users&m=delete&id=1" hx-confirm="Delete?" hx-swap="outerHTML">Delete</a>
```

## Running

```
cd 10-Htmx/public
php -S localhost:8080
```

## AI Guidelines

- Clone of 09-Blog with htmx enhancements
- Demonstrates hypermedia-driven application (HDA) pattern
- No JavaScript framework required
- Graceful degradation: Works without JS (full page loads)
- Namespace: SPE\Htmx\
